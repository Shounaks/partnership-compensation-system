"use strict";(self.webpackChunkpartnership_compensation_system=self.webpackChunkpartnership_compensation_system||[]).push([[152],{8152:(C,h,s)=>{s.r(h),s.d(h,{AdministratorModule:()=>c});var p=s(6895),e=s(8256),b=s(529),f=s(7860);class r{constructor(t,n){this.loginService=t,this.httpClient=n,this.AWS_URL="3.110.23.139"}retrieveAllUsers(t){return this.httpClient.get("http://"+this.AWS_URL+":8081/api/v1/picosys/admin/user-list?page="+t,{headers:this.httpHeaderWithJwtToken()})}retrieveAllCompensationPlans(t){return this.httpClient.get("http://"+this.AWS_URL+":8081/api/v1/picosys/admin/compensation-report?page="+t,{headers:this.httpHeaderWithJwtToken()})}generateCompensationPlanReport(){return this.httpClient.get("http://"+this.AWS_URL+":8081/api/v1/picosys/admin/generate-compensation-report",{headers:this.httpHeaderWithJwtToken(),responseType:"arraybuffer"})}deleteCompensationPlan(t){return this.httpClient.get("http://"+this.AWS_URL+":8081/api/v1/picosys/admin/delete-compensation-plan/"+t,{headers:this.httpHeaderWithJwtToken()})}httpHeaderWithJwtToken(){let t=this.loginService.user.token;return(new b.WM).set("Content-Type","application/json").set("Authorization","Bearer "+t)}}function Z(o,t){if(1&o){const n=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"h2",14)(3,"div",15)(4,"p",16),e._uU(5),e.qZA(),e.TgZ(6,"p",17)(7,"b"),e._uU(8),e.qZA()()()(),e._UZ(9,"hr"),e.TgZ(10,"div",18)(11,"div",15)(12,"p",16),e._uU(13,"Official Plan Name: "),e.qZA(),e.TgZ(14,"p",17)(15,"b"),e._uU(16),e.qZA()()(),e.TgZ(17,"div",15)(18,"p",16),e._uU(19,"Calculation Methodology: "),e.qZA(),e.TgZ(20,"p",17)(21,"b"),e._uU(22),e.qZA()()(),e.TgZ(23,"div",15)(24,"fieldset",19)(25,"legend",20),e._uU(26,"Quantity Information"),e.qZA(),e.TgZ(27,"div",15)(28,"p",16),e._uU(29,"Minimum Quantity: "),e.qZA(),e.TgZ(30,"p",17),e._uU(31),e.qZA()(),e.TgZ(32,"div",15)(33,"p",16),e._uU(34,"Maximum Quantity: "),e.qZA(),e.TgZ(35,"p",17),e._uU(36),e.qZA()(),e.TgZ(37,"div",15)(38,"p",16),e._uU(39,"Percent Compensation: "),e.qZA(),e.TgZ(40,"p",17),e._uU(41),e.qZA()()()()(),e._UZ(42,"br"),e.TgZ(43,"div",21)(44,"p",16),e._uU(45,"From: "),e.TgZ(46,"b"),e._uU(47),e.ALo(48,"date"),e.qZA()(),e.TgZ(49,"p",16),e._uU(50,"To: "),e.TgZ(51,"b"),e._uU(52),e.ALo(53,"date"),e.qZA()()(),e.TgZ(54,"button",22),e.NdJ("click",function(){const l=e.CHM(n).$implicit,g=e.oxw();return e.KtG(g.deleteCompensationPlan(l.planId))}),e.O4$(),e.TgZ(55,"svg",23),e._UZ(56,"path",24),e.qZA()()()()}if(2&o){const n=t.$implicit;e.xp6(5),e.Oqu(n.partnerName),e.xp6(3),e.hij("#",n.planId,""),e.xp6(8),e.Oqu(n.compensationPlanName),e.xp6(6),e.Oqu(n.calculationMethodology),e.xp6(9),e.hij("",n.minQuantity," unit/s"),e.xp6(5),e.hij("",n.maxQuantity," unit/s"),e.xp6(5),e.hij("",n.percentageCompensation," unit/s"),e.xp6(6),e.Oqu(e.lcZ(48,9,n.validFrom)),e.xp6(5),e.Oqu(e.lcZ(53,11,n.validTo))}}function _(o,t){if(1&o){const n=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(a){const g=e.CHM(n).index,m=e.oxw();return e.KtG(m.setPages(g,a))}),e._uU(1),e.qZA()}if(2&o){const n=t.index;e.xp6(1),e.Oqu(n)}}r.\u0275fac=function(t){return new(t||r)(e.LFG(f.r),e.LFG(b.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"});class d{constructor(t){this.adminService=t,this.page=0}ngOnInit(){this.getCompensationPlans()}getCompensationPlans(){this.adminService.retrieveAllCompensationPlans(this.page).subscribe(t=>{this.compensationPlans=t.content,this.pages=new Array(t.totalPages)},t=>{console.log(t.error.message)})}setPages(t,n){n.preventDefault(),this.page=t,this.getCompensationPlans()}deleteCompensationPlan(t){this.adminService.deleteCompensationPlan(t).subscribe(n=>{console.log(n),this.getCompensationPlans()},n=>{console.log(n)})}generateReport(){this.adminService.generateCompensationPlanReport().subscribe(t=>this.downloadFile2(t,"application/ms-excel"),t=>console.error(t))}downloadFile(t){const n=new Blob([t],{type:"text/csv"}),i=window.URL.createObjectURL(n);window.open(i),window.URL.revokeObjectURL(i)}downloadFile2(t,n){let i=new Blob([t],{type:n}),a=window.URL.createObjectURL(i);var l=document.createElement("a");l.href=a,l.download="compensationPlanReport.xls",l.click(),window.URL.revokeObjectURL(a)}}d.\u0275fac=function(t){return new(t||d)(e.Y36(r))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-compensation-report"]],decls:16,vars:2,consts:[[1,"hero","h-full","min-w-full","bg-[url('/assets/book_wall.jpg')]"],[1,"hero-content","h-full","min-w-full","text-center"],[1,"w-full","h-full","shadow-lg","border-base-100","p-4","border-2","rounded-box","bg-base-200","opacity-95"],[1,"text-5xl","font-bold"],[1,"border-base-100","border-2"],[1,"py-6"],[1,"link",3,"click"],[1,"flex","flex-row","justify-center","gap-4","flex-wrap"],["class","card w-96 bg-base-300 shadow-xl",4,"ngFor","ngForOf"],[1,"my-4"],[1,"btn-group"],["class","btn bg-base-100","ngClass","{'btn-active':i == page}",3,"click",4,"ngFor","ngForOf"],[1,"card","w-96","bg-base-300","shadow-xl"],[1,"card-body"],[1,"card-title"],[1,"w-full"],[1,"float-left"],[1,"float-right"],[1,"flex","flex-col"],[1,"border","border-solid","border-gray-300","p-3","float-left","w-full","rounded-lg"],[1,"px-2"],[1,"card-actions","justify-end"],[1,"btn","btn-square","btn-outline","btn-warning","btn-block",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["ngClass","{'btn-active':i == page}",1,"btn","bg-base-100",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"List Of Registered Users"),e.qZA(),e._UZ(5,"hr",4),e.TgZ(6,"p",5),e._uU(7,"Register to One of the leading Book Subscription Services on the internet. Get access to over 50,000,000+ books once the migration is completed. "),e.TgZ(8,"span",6),e.NdJ("click",function(){return n.generateReport()}),e._uU(9,"Download Report"),e.qZA()(),e._UZ(10,"br"),e.TgZ(11,"div",7),e.YNc(12,Z,57,13,"div",8),e.qZA(),e._UZ(13,"hr",9),e.TgZ(14,"div",10),e.YNc(15,_,2,1,"button",11),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngForOf",n.compensationPlans),e.xp6(3),e.Q6J("ngForOf",n.pages))},dependencies:[p.mk,p.sg,p.uU]});var v=s(6773);function U(o,t){if(1&o&&(e.TgZ(0,"div",11)(1,"div",12)(2,"h2",13)(3,"div",14)(4,"p",15),e._uU(5),e.qZA(),e.TgZ(6,"p",16)(7,"b"),e._uU(8),e.qZA()()()(),e._UZ(9,"hr"),e.TgZ(10,"div",17)(11,"div",14)(12,"p",15),e._uU(13,"Job Title: "),e.qZA(),e.TgZ(14,"p",16)(15,"b"),e._uU(16),e.qZA()()(),e.TgZ(17,"div",14)(18,"p",15),e._uU(19,"Department: "),e.qZA(),e.TgZ(20,"p",16)(21,"b"),e._uU(22),e.qZA()()(),e.TgZ(23,"div",14)(24,"p",15),e._uU(25,"Location: "),e.qZA(),e.TgZ(26,"p",16)(27,"b"),e._uU(28),e.qZA()()()(),e._UZ(29,"br"),e.TgZ(30,"div",18)(31,"div",19),e._uU(32),e.qZA()()()()),2&o){const n=t.$implicit;e.xp6(5),e.AsE("",n.firstName," ",n.lastName,""),e.xp6(3),e.hij("#",n.employeeId,""),e.xp6(8),e.Oqu(n.jobTitle),e.xp6(6),e.Oqu(n.department),e.xp6(6),e.Oqu(n.location),e.xp6(4),e.Oqu(n.role.replaceAll("_"," "))}}function x(o,t){if(1&o){const n=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(a){const g=e.CHM(n).index,m=e.oxw();return e.KtG(m.setPages(g,a))}),e._uU(1),e.qZA()}if(2&o){const n=t.index;e.xp6(1),e.Oqu(n)}}class u{constructor(t){this.adminService=t,this.page=0}ngOnInit(){this.getUserData()}getUserData(){this.adminService.retrieveAllUsers(this.page).subscribe(t=>{console.log(t),this.userList=t.content,this.pages=new Array(t.totalPages)},t=>{console.log(t.error.message)})}setPages(t,n){n.preventDefault(),this.page=t,this.getUserData()}}u.\u0275fac=function(t){return new(t||u)(e.Y36(r))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-user-list"]],decls:14,vars:2,consts:[[1,"hero","h-full","w-full","bg-[url('/assets/book_wall.jpg')]"],[1,"hero-content","h-full","min-w-full","text-center"],[1,"min-w-full","h-full","shadow-lg","border-base-100","p-4","border-2","rounded-box","bg-base-200","opacity-95"],[1,"text-5xl","font-bold"],[1,"border-base-100","border-2"],[1,"py-6"],[1,"flex","flex-row","justify-center","gap-4","flex-wrap"],["class","card w-96 bg-base-300 shadow-xl",4,"ngFor","ngForOf"],[1,"my-4"],[1,"btn-group"],["class","btn bg-base-100","ngClass","{'btn-active':i == page}",3,"click",4,"ngFor","ngForOf"],[1,"card","w-96","bg-base-300","shadow-xl"],[1,"card-body"],[1,"card-title"],[1,"w-full"],[1,"float-left"],[1,"float-right"],[1,"flex","flex-col"],[1,"card-actions","justify-end"],[1,"badge","badge-outline"],["ngClass","{'btn-active':i == page}",1,"btn","bg-base-100",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"List Of Registered Users"),e.qZA(),e._UZ(5,"hr",4),e.TgZ(6,"p",5),e._uU(7,"People Registered to One of the leading Partnership Management Services on the internet."),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"div",6),e.YNc(10,U,33,7,"div",7),e.qZA(),e._UZ(11,"hr",8),e.TgZ(12,"div",9),e.YNc(13,x,2,1,"button",10),e.qZA()()()()),2&t&&(e.xp6(10),e.Q6J("ngForOf",n.userList),e.xp6(3),e.Q6J("ngForOf",n.pages))},dependencies:[p.mk,p.sg]});const w=[{path:"compensation-report",component:d},{path:"user-list",component:u}];class c{}c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[v.Bz.forChild(w),p.ez]})}}]);